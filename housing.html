<!DOCTYPE html>
<html>
    <head>
        <title>Housing Docs</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
        <style>
            body{
                font-family: Arial, Helvetica, sans-serif;
                font-size: 1.5rem;
            }
          .dropdown-submenu {
            position: relative;
          }

          .dropdown-submenu .dropdown-menu {
            display: none;
            position: relative;
          }

          .dropdown-menu.show > .dropdown-submenu > .dropdown-menu.show {
            display: block;
          }

          table{
            width: 100%;
          }
          .menu{
            width: 100%;
            background-color: aqua;
            height: 50px;
          }
          
          .submenu{
            width: 100%;
            background-color: red;
          }
        </style>
    </head>
    <body>
        <h1>Housing Documentation</h1>

        <div class = "row">
          <div class = "col-md-6 text-start">FormData
            <div>
              <code>
                <pre>
                  <i>
                    var formData = new FormData(document.getElementById('include the id of your form'));
                    fetch("{baseurl}/{endpoint}",{
                      "method" : "POST",
                      "headers" : {
                        "Content-Type" : "application/json; charset=utf-8",
                        <!-- "accessToken" : "{access token provided by the server}" -->
                      },
                      "body" : formData
                    }).then(response => response.json())
                    .then(data => {
                        console.log(data);
                        //Work on the data here
                    })
                  </i>
                </pre>
              </code>
            </div>
          </div>
          <div class = "col-md-6">JsonData
            <div>
              <code>
                <pre>
                  <i>
                    fetch("{baseurl}/users/login_user.php",{
                      "method" : "POST",
                      "headers" : {
                        "Content-Type" : "application/json; charset=utf-8",
                        <!-- "accessToken" : "{access token provided by the server}" -->
                      },
                      "body" : JSON.stringify(JsonData)
                    }).then(response => response.json())
                    .then(data => {
                        console.log(data);
                        //Work on the data here
                    })
                  </i>
                </pre>
              </code>
            </div>
          </div>
        </div>


        <div class = "users">
            <button type = "button" class = "menu">Users</button>
            <div style = "display: none" class = "menu-items">
                <div id = "registerusers" class = "menu-item">
                    <button type = "button" class = "submenu">Register Users</button>
                    <div class = "submenu-item" style="display: none;">
                        <h4>Mode of sending data - Formdata</h4>
                        <h6>endpoint - /users/register_user.php</h6>
                        <h6>method - POST</h6>
                        <h3>Parameters required</h3>
                        <table>
                            <tr>
                                <th>Parameters</th>
                                <th>Description</th>
                                <th>Optional</th>
                            </tr>
                            <tr>
                                <td>firstName</td>
                                <td>The first name of the user which th user will provide in the form</td>
                                <td>false</td>
                            </tr>
                            <tr>
                                <td>lastName</td>
                                <td>The last name of the user</td>
                                <td>false</td>
                            </tr>
                            <tr>
                                <td>phone</td>
                                <td>The phone number of the user</td>
                                <td>false</td>
                            </tr>
                            <tr>
                                <td>email</td>
                                <td>The email of the user</td>
                                <td>false</td>
                            </tr>
                            <tr>
                                <td>country</td>
                                <td>The country of the user</td>
                                <td>true</td>
                            </tr>
                            <tr>
                                <td>state</td>
                                <td>The state of the user</td>
                                <td>true</td>
                            </tr>
                            <tr>
                                <td>city</td>
                                <td>The city of the user</td>
                                <td>true</td>
                            </tr>
                            <tr>
                                <td>password</td>
                                <td>The password the user will input user, not less than 10 characters</td>
                                <td>false</td>
                            </tr>
                        </table>
                    </div>
                </div>

                <div id = "login" class = "menu-item">
                    <button type = "button" class = "submenu">Login User</button>
                    <div class = "submenu-item" style = "display: none;">
                        <h4>Mode of sending data - Jsondata</h4>
                        <h6>endpoint - /users/login_user.php</h6>
                        <h6>method - POST</h6>
                        <h3>Parameters required</h3>
                        <table>
                            <tr>
                                <th>Parameters</th>
                                <th>Description</th>
                                <th>Optional</th>
                            </tr>
                            <tr>
                                <td>email</td>
                                <td>The email of the user</td>
                                <td>false</td>
                            </tr>
                            <tr>
                                <td>password</td>
                                <td>The password the user will input user, not less than 10 characters</td>
                                <td>false</td>
                            </tr>
                        </table>
                    </div>
                </div>

                <div id = "getprofile" class = "menu-item">
                    <button type = "button" class = "submenu">Get the profile of a user</button>
                    <div class = "submenu-item" style = "display: none;">
                        <h4>Mode of sending data - Jsondata</h4>
                        <h6>endpoint - /users/getuserprofile.php</h6>
                        <h6>Method - GET</h6>
                        <h3>Parameters required</h3>
                        <table>
                            <tr>
                                <th>Parameters</th>
                                <th>Description</th>
                                <th>Optional</th>
                            </tr>
                            <tr>
                                <td>userid</td>
                                <td>The userid of the the user whose profile is being viewed</td>
                                <td>false</td>
                            </tr>
                        </table>
                    </div>
                </div>

                <div id = "updateprofile" class = "menu-item">
                    <button type = "button" class = "submenu">Update User Profile</button>
                    <div class = "submenu-item" style = "display: none;">
                        <h6>Mode of sending data - formdata</h6>
                        <h6>endpoint - /users/updateuserdescription.php</h6>
                        <h6>method - POST</h6>
                        <h3>Parameters required in the form</h3>
                        <table>
                            <tr>
                                <th>Parameters</th>
                                <th>Description</th>
                                <th>Optional</th>
                            </tr>
                            <tr>
                                <td>accessToken</td>
                                <td>Header parameter. This is the access token provided by the server for individual user</td>
                                <td>false</td>
                            </tr>
                            <tr>
                                <td>firstName</td>
                                <td>The first name of the user which th user will provide in the form</td>
                                <td>false</td>
                            </tr>
                            <tr>
                                <td>lastName</td>
                                <td>The last name of the user</td>
                                <td>false</td>
                            </tr>
                            <tr>
                                <td>phone</td>
                                <td>The phone number of the user</td>
                                <td>false</td>
                            </tr>
                            <tr>
                                <td>email</td>
                                <td>The email of the user</td>
                                <td>false</td>
                            </tr>
                            <tr>
                                <td>country</td>
                                <td>The country of the user</td>
                                <td>true</td>
                            </tr>
                            <tr>
                                <td>state</td>
                                <td>The state of the user</td>
                                <td>true</td>
                            </tr>
                            <tr>
                                <td>city</td>
                                <td>The city of the user</td>
                                <td>true</td>
                            </tr>
                        </table>
                    </div>
                </div>

                <div id = "changeprofilepicture" class = "menu-item">
                    <button type = "button" class = "submenu">Change User's Profile Picture</button>
                    <div class = "submenu-item" style = "display: none;">
                        <h6>Mode of sending data - formData</h6>
                        <p>endpoint - /users/updateprofilepicture.php</p>
                        <h3>Parameters required</h3>
                        <table>
                            <tr>
                                <th>Parameters</th>
                                <th>Description</th>
                                <th>Optional</th>
                            </tr>
                            <tr>
                                <td>accessToken</td>
                                <td>Same as always</td>
                                <td>false</td>
                            </tr>
                            <tr>
                                <td>image</td>
                                <td></td>
                                <td>false</td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
            
        </div>

        <div class = "house">
            <button type = "button" class = "menu">House</button>
            <div style = "display: none" class = "menu-items">
                <div id = "addhousedetails" class = "menu-item">
                    <button type = "button" class = "submenu">Add house details</button>
                    <div class = "submenu-item" style="display: none;">
                        <h4>Mode of sending data - Formdata</h4>
                        <h6>endpoint - /house/addhousedetails.php</h6>
                        <h6>method - POST</h6>
                        <h3>Parameters required</h3>
                        <table>
                            <tr>
                                <th>Parameters</th>
                                <th>Description</th>
                                <th>Optional</th>
                            </tr>
                            <tr>
                                <td>accessToken</td>
                                <td>Header parameter. This is the access token provided by the server for individual user</td>
                                <td>false</td>
                            </tr>
                            <tr>
                                <td>userid</td>
                                <td>The id of the user. It will be provided by the server when the user logs in successfully</td>
                                <td>false</td>
                            </tr>
                            <tr>
                                <td>housename</td>
                                <td>This will be set by the user. The user decides what to name his/her house</td>
                                <td>false</td>
                            </tr>
                            <tr>
                                <td>street</td>
                                <td>The street where the house is. This should also be provided by the user</td>
                                <td>false</td>
                            </tr>
                        </table>
                    </div>
                </div>

                <div id = "viewhouses" class = "menu-item">
                    <button type = "button" class = "submenu">View vacant houses</button>
                    <div class = "submenu-item" style = "display: none;">
                        <h4>Mode of sending data - Jsondata</h4>
                        <h6>endpoint - /house/view_vacant_houses.php</h6>
                        <h6>method - GET</h6>
                        <h3>Parameters required</h3>
                        <table>
                            <tr>
                                <th>Parameters</th>
                                <th>Description</th>
                                <th>Optional</th>
                            </tr>
                            <tr>
                                <td>userid</td>
                                <td>The id of the user. It will be provided by the server when the user logs in successfully</td>
                                <td>false</td>
                            </tr>
                        </table>
                    </div>
                </div>

                <div id = "inspectionvideopayment" class = "menu-item">
                    <button type = "button" class = "submenu">Pay for inspection video</button>
                    <div class = "submenu-item" style = "display: none;">
                        <h6>Mode of sending data - Jsondata</h6>
                        <h6>endpoint - /house/inspection_video_payment.php</h6>
                        <h3>Parameters required in the form</h3>
                        <table>
                            <tr>
                                <td>viewerid</td>
                                <td>The id of the user. It will be provided by the server when the user logs in successfully</td>
                                <td>false</td>
                            </tr>
                            <tr>
                                <td>houseid</td>
                                <td>The id of the house clicked. It will be provided by the server when the view vacanthouse is successful</td>
                                <td>false</td>
                            </tr>
                            <tr>
                                <td>accessToken</td>
                                <td>Header parameter. This is the access token provided by the server for individual user</td>
                                <td>false</td>
                            </tr>
                        </table>
                    </div>
                </div>

                <div id = "viewinspectionvideo" class = "menu-item">
                    <button type = "button" class = "submenu">View inspection video</button>
                    <div class = "submenu-item" style = "display: none;">
                        <h6>Mode of sending data - Jsondata</h6>
                        <h6>endpoint - /house/view_inspection_video.php</h6>
                        <h3>Parameters required in the form</h3>
                        <table>
                            <tr>
                                <td>viewerid</td>
                                <td>The id of the user. It will be provided by the server when the user logs in successfully</td>
                                <td>false</td>
                            </tr>
                            <tr>
                                <td>houseid</td>
                                <td>The id of the house clicked. It will be provided by the server when the view vacanthouse is successful</td>
                                <td>false</td>
                            </tr>
                            <tr>
                                <td>accessToken</td>
                                <td>Header parameter. This is the access token provided by the server for individual user</td>
                                <td>false</td>
                            </tr>
                        </table>
                    </div>
                </div>

                <div id = "changeprofilepicture" class = "menu-item">
                    <button type = "button" class = "submenu">Change User's Profile Picture</button>
                    <div class = "submenu-item" style = "display: none;">
                        <h6>Mode of sending data - formData</h6>
                        <p>endpoint - /users/updateprofilepicture.php</p>
                        <h3>Parameters required</h3>
                        <table>
                            <tr>
                                <th>Parameters</th>
                                <th>Description</th>
                                <th>Optional</th>
                            </tr>
                            <tr>
                                <td>accessToken</td>
                                <td>Same as always</td>
                                <td>false</td>
                            </tr>
                            <tr>
                                <td>image</td>
                                <td></td>
                                <td>false</td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
            
        </div>

        <script>
            function displayChildrenOfClickedElement(event) {
                // Get the element that was clicked
                const clickedElement = event.currentTarget;
                
                // Get the parent element
                const parentElement = clickedElement.parentElement;
                
                if (parentElement) {
                    // Get all child elements of the parent element
                    const siblings = parentElement.children;
                    
                    if (siblings.length > 0) {
                        // Loop through each sibling element
                        for (let i = 0; i < siblings.length; i++) {
                            // Exclude the clicked element itself
                            if (siblings[i] !== clickedElement) {
                                // Set the display property of the sibling to 'block'
                                if(siblings[i].style.display == 'none'){
                                    siblings[i].style.display = 'block';
                                }else{
                                    siblings[i].style.display = 'none';
                                }
                            }
                        }
                    } else {
                        console.warn('The parent element has no children.');
                    }
                } else {
                    console.error('The clicked element has no parent.');
                }
            }


            // Add event listeners to all elements with the specific class name
            function addClickEventToClassElements(className) {
                const elements = document.getElementsByClassName(className);
        
                for (let i = 0; i < elements.length; i++) {
                    elements[i].addEventListener('click', displayChildrenOfClickedElement);
                }
            }
        
        

            // Call this function with the class name you want to target
            addClickEventToClassElements('menu');
            addClickEventToClassElements('submenu');

        </script>
    </body>
</html>